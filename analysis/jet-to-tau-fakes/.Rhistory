ggplot( test3_jetht_fakerates , aes(jets_bin)) + geom_histogram()
ggplot( test3_jetht_fakerates , aes(jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100))
ggplot( test3_jetht_fakerates , aes(jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100)) + scale_y_log10()
ggplot( test3_jetht_fakerates , aes(jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100)) + scale_y_log10() + geom_hline(yintercept=c(20))
summary(test3_jetht_fakerates$jets_bin)
summary(test3_jetht_fakerates[ test3_jetht_fakerates$jets_bin>0, ]$jets_bin)
ggplot( test3_jetht_fakerates , aes(jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100)) + scale_y_log10() + geom_hline(yintercept=c(20)) +  annotate("text", x = 75, y = 100*1000, label = "summary(test3_jetht_fakerates[ test3_jetht_fakerates$jets_bin>0, ]$jets_bin)\nMin. 1st Qu.  Median    Mean 3rd Qu.    Max.\n 1.0     1.0     6.0    59.5    39.0   923.0")
ggsave("test3_Data13TeV_JetHT2016D_PromptReco_jettaufakes_distr_Y10.png")
q()
ggplot( test3_jetht_fakerates , aes(tau_jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100)) + scale_y_log10() + geom_hline(yintercept=c(20)) 
summary(test3_jetht_fakerates[ test3_jetht_fakerates$tau_jets_bin>0, ]$tau_jets_bin)
ggplot( test3_jetht_fakerates , aes(jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100)) + scale_y_log10() + geom_vline(xintercept=c(20)) +  annotate("text", x = 75, y = 100*1000, label = "summary(test3_jetht_fakerates[ test3_jetht_fakerates$jets_bin>0, ]$jets_bin)\nMin. 1st Qu.  Median    Mean 3rd Qu.    Max.\n 1.0     1.0     6.0    59.5    39.0   923.0")
ggsave("test3_Data13TeV_JetHT2016D_PromptReco_jettaufakes_distr_Y10.png")
ggplot( test3_jetht_fakerates , aes(tau_jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100)) + scale_y_log10() + geom_vline(xintercept=c(20)) 
ggplot( test3_jetht_fakerates , aes(tau_jets_bin)) + geom_histogram(binwidth=1) + coord_cartesian(xlim=c(0,100)) + scale_y_log10() + geom_vline(xintercept=c(20)) + annotate("text", x = 75, y = 100*1000, label = "summary(test3_jetht_fakerates[ test3_jetht_fakerates$tau_jets_bin>0, ]$tau_jets_bin)\n Min. 1st Qu.  Median    Mean 3rd Qu.    Max.\n1.000   1.000   1.000   1.636   2.000   9.000" )
ggsave("test3_Data13TeV_JetHT2016D_PromptReco_jettaufakes_distr_Y10_tau_jet_fakes.png")
sum(test3_jetht_fakerates$tau_jets_bin)
sum(test3_jetht_fakerates$tau_jets_bin == 25)
sum(test3_jetht_fakerates$tau_jets_bin == 10)
sum(test3_jetht_fakerates$tau_jets_bin == 9)
sum(test3_jetht_fakerates$tau_jets_bin == 7)
sum(test3_jetht_fakerates$tau_jets_bin == 6)
sum(test3_jetht_fakerates$tau_jets_bin == 8)
sum(test3_jetht_fakerates$tau_jets_bin == 5)
sum(test3_jetht_fakerates$tau_jets_bin == 4)
sum(test3_jetht_fakerates$tau_jets_bin == 3)
sum(test3_jetht_fakerates$tau_jets_bin == 2)
sum(test3_jetht_fakerates$tau_jets_bin == 1)
sum(test3_jetht_fakerates$tau_jets_bin == 0)
sum(test3_jetht_fakerates$tau_jets_bin == -1)
sum(test3_jetht_fakerates$tau_jets_bin != 0)
q()
sum(test3_jetht_fakerates$tau_jets_bin != 0)
ls()
test4_jetht_fakerates = read.csv("test4_Data13TeV_JetHT2016D_PromptReco_jettaufakes_distr_Y10.csv", header=T)
dim(test4_jetht_fakerates)
dim(test3_jetht_fakerates)
sum(test3_jetht_fakerates$jets_bin)
sum(test4_jetht_fakerates$jets_bin)
sum(test4_jetht_fakerates$tau_jets_bin)
sum(test3_jetht_fakerates$tau_jets_bin)
sum(test4_jetht_fakerates$tau_jets_bin)
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$jets_bin) )} )
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )
ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} )
ddply( test4_jetht_fakerates , .(5), function(df) {return( sum(df$tau_jets_bin) )} )
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} )
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$jets_bin) )} )
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$jets_bin) )} ) / 20
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$jets_bin) )} ) / 100
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$taujets_bin) )} ) / 20
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$taujets_bin) )} ) 
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} ) 
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} ) 
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} ) [13:100]
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )$V1 [13:100]
sum(ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )$V1 [13:100])
sum(ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )$V1
)
sum(ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )$V1) / 20
sum(ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )$V1) / 10
75 / 5
15 * 5 * 10
7500/15
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} ) / 500
ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )
x = ddply( test4_jetht_fakerates , .(z), function(df) {return( sum(df$tau_jets_bin) )} )
data.frame( z=x$z, V1=x$V1 / 500 )
data.frame( z=x$z, V1=x$V1 / 500 )$V1 [10:100]
sum( data.frame( z=x$z, V1=x$V1 / 500 )$V1 [10:100] )
sum( data.frame( z=x$z, V1=x$V1 / 500 )$V1 [1:4] )
ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) ) / 5
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) )$V1 [1:14]
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:14] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:12] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:11] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [11:19] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [11:18] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [11:17] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [17:23] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [17:22] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [22:30] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [22:28] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [28:40] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [29:40] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:11] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [11:17] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [12:17] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [12:18] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [18:23] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [19:23] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [19:25] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [19:24] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [25:40] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [25:30] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [25:31] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [32:40] )
sum(ddply( test4_jetht_fakerates , .(y), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [25:31] )
750
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )}
)
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} )
foo <- function(df) {
    for (1:dim(df)[1]) {
    for (1:(dim(df)[1])) {
    for (i in 1:(dim(df)[1])) {
dim(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) )
foo <- function(df) {
    for (i in 1:(dim(df)[1])) {
        print(df[i, 2])
}
}
foo(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) )
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} )
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:32]
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:32] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:34] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:30] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:31] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [1:30] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [31:40] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [31:38] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [31:34] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [35:39] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [35:38] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [35:37] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [39:42] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [39:40] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [39:41] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [42:45] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [42:43] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [42:44] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [44:46] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [44:45] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [45:46] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [45:47] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [47:49] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [50:51] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [50:53] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [50:54] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [55:60] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [55:62] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [55:64] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [65:100] )
len(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [65:500] )
sum(ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $V1 [55:64] )
pt_l = c(1, 31, 35, 39, 42, 45, 47, 50, 55, 65)
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $x
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $x [pt_l]
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) 
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $x [pt_l]
pt_r = c(30, 34, 38, 41, 44, 46, 49, 54, 64, 500)
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $x [pt_r]
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $x [c(pt_l, 500)]
ddply( test4_jetht_fakerates , .(x), function(df) {return( sum(df$tau_jets_bin) )} ) $x [c(pt_l, 500)] - 0.5
q()
test5_dist_jetht <- read.csv("test5_Data13TeV_JetHT2016D_PromptReco_v2_jettaufakes_distances.csv", header=T)
test5_dist_singlemu <- read.csv("test5_Data13TeV_SingleMuon2016D_PromptRecoV2_jettaufakes_distances.csv", header=T)
(headtest5_dist_jetht)
head (test5_dist_jetht)
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point()
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17)
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5))
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5)) + geom_vline(xintercept=0.1, color = red)
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5)) + geom_vline(xintercept=0.1, color="red")
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5)) + geom_vline(xintercept=0.1, color="red") + geom_point(data=test5_dist_singlemu)
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5)) + geom_vline(xintercept=0.1, color="red") + geom_point(data=test5_dist_singlemu, color=blue)
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5)) + geom_vline(xintercept=0.1, color="red") + geom_point(data=test5_dist_singlemu, color="blue")
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5))
ggsave("test5_jetht_fakejet_distance_qcd-n-wjets.png", width=5, height=5)
ggplot( test5_dist_jetht, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5)) + geom_vline(xintercept=0.1, color="red")
ggsave("test5_jetht_fakejet_distance_qcd-n-wjets.png", width=5, height=5)
q()
ggplot( test5_dist_singlemu, aes(x, qcd_fakejet_dist_bin)) + geom_point() + geom_point(mapping=aes(x, wjets_fakejet_dist_bin), pch=17) + coord_cartesian(xlim=c(0,0.5)) + geom_vline(xintercept=0.1, color="red")
ggsave("test5_singlemu_fakejet_distance_qcd-n-wjets.png", width=5, height=5)
q()
test5.2_taufakes_jetHT <- read.csv( "taufakerates_jetHT.csv", header=T)
test5.2_taufakes_singlemu <- read.csv( "taufakerates_singlemu.csv", header=T)
dim(test5.2_taufakes_jetHT)
head(test5.2_taufakes_jetHT)
ggplot( test5.2_taufakes_jetHT, aes(z, w_jets_bin)) + geom_point()
ggplot( test5.2_taufakes_jetHT, aes(z, sum(w_jets_bin))) + geom_point()
ggplot( test5.2_taufakes_jetHT, aes(z, w_jets_bin)) + geom_point()
ggplot( test5.2_taufakes_jetHT, aes(z, w_jets_bin)) + geom_jitter()
ggplot( ddply(test5.2_taufakes_jetHT), .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))}), aes(z, w_jets_bin)) + geom_jitter()
ggplot( ddply(test5.2_taufakes_jetHT, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} ), aes(z, w_jets_bin)) + geom_point()
ggplot( ddply(test5.2_taufakes_jetHT, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} ), aes(z, wj)) + geom_point()
ggplot( ddply(test5.2_taufakes_jetHT, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} ), aes(z, qj)) + geom_point()
ggplot( ddply(test5.2_taufakes_jetHT, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} ), aes(z, wj)) + geom_point()
test5.2_taufakes_jetHT.perZ <- ddply(test5.2_taufakes_jetHT, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj)) + geom_point()
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj)) + geom_point() + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, wt), color="red")
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj)) + geom_point() + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj), color="red")
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red")
ggsave( "test5.2_taufakes-in-jetHT_perZ-radius_all-jets_normalized-qcd-n-wjets.png" )
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + annotate("text", label="black -- wjets, red -- qcd")
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd")
ggsave( "test5.2_taufakes-in-jetHT_perZ-radius_all-jets_normalized-qcd-n-wjets.png", width=6, height=6 )
q()
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd")
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd") + scale_y_log10()
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15) + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd") + scale_y_log10()
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd") + scale_y_log10()
max(test5.2_taufakes_jetHT.perZ$wj)
max(test5.2_taufakes_jetHT.perZ$qj)
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggsave( "test5.2_taufakes-in-jetHT_perZ-radius_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
q()
test5.2_taufakes_jetHT.perX <- ddply(test5.2_taufakes_jetHT, .(x), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_jetHT.perY <- ddply(test5.2_taufakes_jetHT, .(y), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
ggplot( test5.2_taufakes_jetHT.perX, aes(x, wj/max(wj))) + geom_point() + geom_point( mapping=aes(x, wt/max(wj)), pch=15 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_jetHT.perX, aes(x, wj/max(wj))) + geom_point() + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=1.5 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_jetHT.perX, aes(x, wj/max(wj))) + geom_point() + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_jetHT.perX, aes(x, wj/max(wj))) + geom_point(size=1.5) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=1.5 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_jetHT.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
test5.2_taufakes_jetHT.perX$x
ggsave( "test5.2_taufakes-in-jetHT_perX-pT_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4))
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0,1.2))
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0, 1.2))
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0, 2))
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4))
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0.01, 1.2))
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0.001, 1.2))
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0.001, 1.2))
ggsave( "test5.2_taufakes-in-jetHT_perY-eta_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
test5.2_taufakes_singlemu.perX <- ddply(test5.2_taufakes_singlemu, .(y), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_singlemu.perX <- ddply(test5.2_taufakes_singlemu, .(x), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_singlemu.perY <- ddply(test5.2_taufakes_singlemu, .(y), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_singlemu.perZ <- ddply(test5.2_taufakes_singlemu, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
ggplot( test5.2_taufakes_singlemu.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0.001, 1.2))
max(test5.2_taufakes_singlemu.perY$wj)
max(test5.2_taufakes_singlemu.perX$wj)
max(test5.2_taufakes_singlemu.perZ$wj)
max(test5.2_taufakes_singlemu.perZ$qj)
max(test5.2_taufakes_singlemu.perX$qj)
max(test5.2_taufakes_singlemu.per$qj)
max(test5.2_taufakes_singlemu.perY$qj)
ggsave( "test5.2_taufakes-in-singleMu_perY-eta_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_singlemu.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0.001, 1.2))
ggplot( test5.2_taufakes_singlemu.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() 
ggsave( "test5.2_taufakes-in-singleMu_perX-pT_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() 
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() 
ggsave( "test5.2_taufakes-in-singleMu_perZ-radius_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
q()
test5.2_taufakes_jetHT <- read.csv( "taufakerates_jetHT.csv", header=T)
test5.2_taufakes_singlemu <- read.csv( "taufakerates_singlemu.csv", header=T)
test5.2_taufakes_jetHT.perX <- ddply(test5.2_taufakes_jetHT, .(x), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_jetHT.perY <- ddply(test5.2_taufakes_jetHT, .(y), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_jetHT.perZ <- ddply(test5.2_taufakes_jetHT, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_singlemu.perX <- ddply(test5.2_taufakes_singlemu, .(x), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_singlemu.perY <- ddply(test5.2_taufakes_singlemu, .(y), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
test5.2_taufakes_singlemu.perZ <- ddply(test5.2_taufakes_singlemu, .(z), function(df) {data.frame(wj=sum(df$w_jets_bin), wt=sum(df$w_tau_jets_bin), qj=sum(df$q_jets_bin), qt=sum(df$q_tau_jets_bin))} )
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() 
ggsave( "test5.2_taufakes-in-singleMu_perZ-radius_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
q()
ggplot( test5.2_taufakes_jetHT.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggsave( "test5.2_taufakes-in-jetHT_perX-pT_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_jetHT.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0.001, 1.2))
ggsave( "test5.2_taufakes-in-jetHT_perY-eta_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggsave( "test5.2_taufakes-in-jetHT_perZ-radius_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_singlemu.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(x, qj/max(qj)), color="red") + geom_point( mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggsave( "test5.2_taufakes-in-singleMu_perX-pT_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_singlemu.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(y, qj/max(qj)), color="red") + geom_point( mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=2, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() + coord_cartesian(xlim=c(-4,4), ylim=c(0.001, 1.2))
ggsave( "test5.2_taufakes-in-singleMu_perY-eta_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggsave( "test5.2_taufakes-in-singleMu_perZ-radius_all-jets-and-fake-taus_normalized-qcd-n-wjets.png", width=6, height=6 )
q()
head(test5_dist_singlemu)
ggplot(test5_dist_singlemu , aes(x, qcd_fakejet_dist_bin)) + geom_point()
q()
ls()
test5.2_dist_jetHT <- read.csv( "test5.2_jettaufakes_distance_JetHT.csv", header=T)
test5.2_dist_singleMuon <- read.csv( "test5.2_jettaufakes_distance_SingleMuon.csv", header=T)
head( test5.2_dist_jetHT )
ggplot( test5.2_dist_jetHT , aes(x, qcd_fakejet_dist_bin)) + geom_point()
ggplot( test5.2_dist_jetHT , aes(x, qcd_fakejet_dist_bin)) + geom_point() + scale_x_continuous(breaks=seq(0,2,by=0.1))
ggsave( "test5.2_dist_jetHT.png", width=6, height=6)
ggplot( test5.2_dist_singleMuon , aes(x, qcd_fakejet_dist_bin)) + geom_point() + scale_x_continuous(breaks=seq(0,2,by=0.1))
ggsave( "test5.2_dist_singleMuon.png", width=6, height=6)
q()
ggplot( test5.2_dist_singleMuon , aes(x, wjets_fakejet_dist_bin)) + geom_point() + scale_x_continuous(breaks=seq(0,2,by=0.1))
ggsave( "test5.2_dist_singleMuon_wjets-sel.png", width=6, height=6)
ggplot( test5.2_dist_jetHT , aes(x, wjets_fakejet_dist_bin)) + geom_point() + scale_x_continuous(breaks=seq(0,2,by=0.1))
ggsave( "test5.2_dist_jetHT_wjets-sel.png", width=6, height=6)
q()
j5.3_wjets_origins <- read.csv( "j5.3_MC13TeV_noHLT_WJets_amcatnlo_jettaufakes_distr.csv", header=T)
head(j5.3_wjets_origins)
summary(j5.3_wjets_origins$jet_origin)
sum(j5.3_wjets_origins[ j5.3_wjets_origins$jet_origin < 20 ,]$qcd_bin)
sum(j5.3_wjets_origins[ j5.3_wjets_origins$jet_origin < 20 ,]$wjets_bin)
sum(j5.3_wjets_origins[ j5.3_wjets_origins$jet_origin > 20 ,]$qcd_bin)
sum(j5.3_wjets_origins[ j5.3_wjets_origins$jet_origin > 20 ,]$wjets_bin)
1390390 / (1390390 + 3009852)
331326 / (331326 + 587128)
j5.3_dy10to50_origins <- read.csv( "j5.3_MC13TeV_DYJetsToLL_10to50_amcatnlo_jettaufakes_distr.csv", header=T)
j5.3_dy50toInf_origins <- read.csv( "j5.3_MC13TeV_DYJetsToLL_50toInf_amcatnlo_jettaufakes_distr.csv", header=T)
q()
j5.3_qcdALL_origins <- read.csv( "j5.3_MC2016_noHLT_QCD_ALL-HT_jettaufakes_distr.csv", header=T)
sum(j5.3_wjets_origins[ j5.3_wjets_origins$jet_origin > 20 ,]$qcd_bin)
sum(j5.3_wjets_origins[ j5.3_wjets_origins$jet_origin < 20 ,]$qcd_bin)
ls()
ls()
o <- j5.3_wjets_origins
sum( o[ o$jet_origin < 20 ,]$qcd_bin)
sum( o[ o$jet_origin > 20 ,]$qcd_bin)
sum( o[ o$jet_origin > 20 ,]$qcd_bin) / sum(o$qcd_bin)
sum( o[ o$jet_origin > 20 ,]$wjets_bin) / sum(o$wjets_bin)
o <- j5.3_dy10to50_origins
sum( o[ o$jet_origin > 20 ,]$qcd_bin) / sum(o$qcd_bin)
sum( o[ o$jet_origin > 20 ,]$wjets_bin) / sum(o$wjets_bin)
o <- j5.3_qcdALL_origins
sum( o[ o$jet_origin > 20 ,]$qcd_bin) / sum(o$qcd_bin)
sum( o[ o$jet_origin > 20 ,]$wjets_bin) / sum(o$wjets_bin)
q()
ls()
test5.2_taufakes_jetHT.perZ
test5.2_taufakes_singlemu.perZ
test5.2_taufakes_jetHT.perZ$wt / test5.2_taufakes_jetHT.perZ$wj
test5.2_taufakes_jetHT.perZ$qt / test5.2_taufakes_jetHT.perZ$qj
(test5.2_taufakes_jetHT.perZ$wt / test5.2_taufakes_jetHT.perZ$wj) < (test5.2_taufakes_jetHT.perZ$qt / test5.2_taufakes_jetHT.perZ$qj)
q()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() 
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() 
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.5, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10() 
ggplot( test5.2_taufakes_jetHT.perZ, aes(z, wj/max(wj))) + geom_point() + geom_point( mapping=aes(z, wt/max(wj)), pch=15 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point( mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets, red -- qcd\nnormalization factors:\nqcd: max(qcd jets) = 242595\nwjets: max(wjets jets) = 9738") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0.3, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggsave( "test5.2_taufakes-perZ-radius_singleMu-wjets-VS-jetHT-qcd_normalized.png" )
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, wj/max(wj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, wt/max(wj)), pch=15, color="red") + annotate("text", x=0.3, y=0.75, label="black -- wjets in singleMu, red -- wjets in jetHT") + scale_y_log10()
ggsave( "test5.2_taufakes-perZ-radius_singleMu-wjets-VS-jetHT-qjets_normalized.png" )
ggsave( "test5.2_taufakes-perZ-radius_singleMu-wjets-VS-jetHT-wjets_normalized.png" )
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, qj/max(qj))) + geom_point(size=2) + geom_point( mapping=aes(z, qt/max(qj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0.3, y=0.75, label="black -- qcd in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggsave( "test5.2_taufakes-perZ-radius_singleMu-qcd-VS-jetHT-qcd_normalized.png" )
ggplot( test5.2_taufakes_singlemu.perZ, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0.3, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perX, aes(z, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(z, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perX, mapping=aes(z, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(z, qt/max(qj)), pch=15, color="red") + annotate("text", x=0.3, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perX, mapping=aes(x, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perZ, mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0.3, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
head(test5.2_taufakes_singlemu.perX,)
tail(test5.2_taufakes_singlemu.perX)
ggplot( test5.2_taufakes_singlemu.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perX, mapping=aes(x, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perX, mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=0.3, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perX, aes(x, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(x, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perX, mapping=aes(x, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perX, mapping=aes(x, qt/max(qj)), pch=15, color="red") + annotate("text", x=100, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggsave( "test5.2_taufakes-perX-pt_singleMu-wjets-VS-jetHT-qcd_normalized.png" )
ggplot( test5.2_taufakes_singlemu.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perY, mapping=aes(y, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perY, mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=100, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggplot( test5.2_taufakes_singlemu.perY, aes(y, wj/max(wj))) + geom_point(size=2) + geom_point( mapping=aes(y, wt/max(wj)), pch=15, size=2 )  + geom_point(data=test5.2_taufakes_jetHT.perY, mapping=aes(y, qj/max(qj)), color="red") + geom_point( data=test5.2_taufakes_jetHT.perY, mapping=aes(y, qt/max(qj)), pch=15, color="red") + annotate("text", x=0, y=0.75, label="black -- wjets in singleMu, red -- qcd in jetHT") + scale_y_log10()
ggsave( "test5.2_taufakes-perY-eta_singleMu-wjets-VS-jetHT-qcd_normalized.png" )
q()
ls()
j5.3_redo_jetHT_jet_distr <- read.csv( "j5.3_redo_Data13TeV_JetHT2016D_PromptReco_v2_distr.csv", header=T )
j5.3_redo_singleMuon_jet_distr <- read.csv( "j5.3_redo_Data13TeV_SingleMuon2016D_PromptRecoV2_distr.csv", header=T )
names(j5.3_redo_jetHT_jet_distr)
j5.3_redo_jetHT_jet_distr$q_tau_jets_bin / j5.3_redo_jetHT_jet_distr$q_jets_bin
summary( j5.3_redo_jetHT_jet_distr$q_tau_jets_bin / j5.3_redo_jetHT_jet_distr$q_jets_bin )
summary( j5.3_redo_jetHT_jet_distr$w_tau_jets_bin / j5.3_redo_jetHT_jet_distr$w_jets_bin )
summary( j5.3_redo_singleMuon_jet_distr$q_tau_jets_bin / j5.3_redo_singleMuon_jet_distr$q_jets_bin )
summary( j5.3_redo_singleMuon_jet_distr$w_tau_jets_bin / j5.3_redo_singleMuon_jet_distr$w_jets_bin )
q()
ls()
j5.4_wjets <- read.csv( "j5.4_MC2016_noHLT_WJets_amcatnlo_distr.csv", header=T )
j5.4_dyjets10 <- read.csv( "j5.4_MC2016_noHLT_DYJetsToLL_10to50_amcatnlo_distr.csv, header=T )
j5.4_dyjets10 <- read.csv( "j5.4_MC2016_noHLT_DYJetsToLL_10to50_amcatnlo_distr.csv", header=T )
sum(j5.4_wjets$w_tau_jets_bin)
sum(j5.4_wjets$w_tau_jets_bin) / sum(j5.4_wjets$w_jets_bin)
q()
j5.4_WJets_origins <- read.csv("j5.4_WJets_origins.csv", header=T)
j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin ]
j5.4_WJets_origins$jet_origin 
sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin < 20, ]$qcd_bin)
sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin < 20, ]$wjets_bin)
j5.4_WJets_origins <- read.csv("j5.4_MC2016_noHLT_WJets_amcatnlo_origins.csv", header=T)
sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin < 20, ]$qcd_bin)
sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin < 20, ]$wjets_bin)
j5.4_QCD_100_200_origins <- read.csv("j5.4_MC2016_noHLT_QCD_HT-100-200_origins.csv", header=T)
sum(j5.4_QCD_100_200_origins [ j5.4_QCD_100_200_origins$jet_origin < 20, ]$qcd_bin)
sum(j5.4_QCD_100_200_origins [ j5.4_QCD_100_200_origins$jet_origin < 20, ]$wjets_bin)
q()
ls()
ls()
ls()
j5.4_dataJetHT <- read.csv("j5.4_Data13TeV_JetHT2016D_PromptReco_v2_distr.csv", header=T)
j5.4_dataSingleMu <- read.csv("j5.4_Data13TeV_SingleMuon2016D_PromptRecoV2_distr.csv", header=T)
j5.4_dataJetHT
sum(j5.4_dataJetHT$w_jets_bin)
sum(j5.4_dataJetHT$q_jets_bin)
sum(j5.4_dataSingleMu$w_jets_bin)
sum(j5.4_dataSingleMu$q_jets_bin)
ls()
q()
j5.4_weightflow <- read.csv( "j5.4_jobsums/jetsel_weightflow", header=T)
j5.4_weightflow
q()
ls()
j5.4_xsecs <- read.csv( "../datasets/datasets_xsecs_testing_dataD-jetht-n-singlemu-MC-noHLT-qcdHT-wjets-dyjets", header=T)
j5.4_xsecs
j5.4_xsecs_df <- read.csv( "../datasets/datasets_xsecs_testing_dataD-jetht-n-singlemu-MC-noHLT-qcdHT-wjets-dyjets", header=T)
j5.4_xsecs <- j5.4_xsecs_df$xsec
names(j5.4_xsecs) <- j5.4_xsecs_df$dtag
j5.4_xsecs 
j5.4_weightflow
j5.4_weightflow$xsec <- j5.4_xsecs[ as.character(j5.4_weightflow$dtag) ]
j5.4_weightflow
j5.4_weightflow[ j5.4_weightflow$dtag == "Data13TeV_JetHT2016D_PromptReco_v2",]$xsec = 1
j5.4_weightflow[ j5.4_weightflow$type == "Data",]$xsec = 1
j5.4_weightflow
j5.4_weightflow$xsec / j5.4_weightflow$weightflow_weighted_miniaod_events
j5.4_weightflow$weightflow_wjets_selection * j5.4_weightflow$xsec / j5.4_weightflow$weightflow_weighted_miniaod_events
j5.4_weightflow$xsec / j5.4_weightflow$weightflow_weighted_miniaod_events
j5.4_weightflow$mc_ratio <- j5.4_weightflow$xsec / j5.4_weightflow$weightflow_weighted_miniaod_events
j5.4_weightflow
ls()
sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin)
j5.4_WJets_origins$jet_origin
sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin)
data.frame( dtag="MC2016_noHLT_WJets_amcatnlo", qcd_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$wjets_bin))
j5.4_wjets
j5.4_dy10to50)origins <- read.csv( "j5.4_MC2016_noHLT_DYJetsToLL_10to50_amcatnlo_origins.csv", header=T)
j5.4_dy10to50_origins <- read.csv( "j5.4_MC2016_noHLT_DYJetsToLL_10to50_amcatnlo_origins.csv", header=T)
ls()
j5.4_dy50toInf_origins <- read.csv( "j5.4_MC2016_noHLT_DYJetsToLL_50toInf_amcatnlo_origins.csv", header=T)
j5.4_QCD100_200_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-100-200_origins.csv", header=T)
j5.4_QCD200_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-200-300_origins.csv", header=T)
j5.4_QCD300_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-300-500_origins.csv", header=T)
j5.4_QCD500_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-500-700_origins.csv", header=T)
j5.4_QCD700_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-700-1000_origins.csv", header=T)
j5.4_QCD1000_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-1000-1500_origins.csv", header=T)
j5.4_QCD1500_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-1500-2000_origins.csv", header=T)
data.frame( dtag="MC2016_noHLT_WJets_amcatnlo", qcd_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$wjets_bin))
rbind(data.frame( dtag="MC2016_noHLT_WJets_amcatnlo", qcd_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$wjets_bin))
)
rbind(data.frame( dtag="MC2016_noHLT_WJets_amcatnlo", qcd_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_DYJetsToLL_10to50_amcatnlo", qcd_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-100-200", qcd_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-200-300", qcd_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-300-500", qcd_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-500-700", qcd_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-1000-1500", qcd_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-1500-2000", qcd_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$wjets_bin)))
j5.4_QCD2000_origins <- read.csv( "j5.4_MC2016_noHLT_QCD_HT-2000-Inf_origins.csv", header=T)
rbind(data.frame( dtag="MC2016_noHLT_WJets_amcatnlo", qcd_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_DYJetsToLL_10to50_amcatnlo", qcd_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-100-200", qcd_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-200-300", qcd_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-300-500", qcd_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-500-700", qcd_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-1000-1500", qcd_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$wjets_bin)),
data.frame( dtag= "MC2016_noHLT_QCD_HT-1500-2000", qcd_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$wjets_bin))),
data.frame( dtag= "MC2016_noHLT_QCD_HT-1500-2000", qcd_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$wjets_bin)),
rbind(data.frame( dtag="MC2016_noHLT_WJets_amcatnlo", qcd_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_DYJetsToLL_10to50_amcatnlo", qcd_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-100-200", qcd_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-200-300", qcd_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-300-500", qcd_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-500-700", qcd_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-1000-1500", qcd_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-1500-2000", qcd_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-2000-Inf", qcd_q=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin >20, ]$wjets_bin)))
j5.4_jetorigin_sums <- rbind(data.frame( dtag="MC2016_noHLT_WJets_amcatnlo", qcd_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum(j5.4_WJets_origins[ j5.4_WJets_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_DYJetsToLL_10to50_amcatnlo", qcd_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_dy10to50_origins[ j5.4_dy10to50_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-100-200", qcd_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD100_200_origins[ j5.4_QCD100_200_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-200-300", qcd_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD200_origins[ j5.4_QCD200_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-300-500", qcd_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD300_origins[ j5.4_QCD300_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-500-700", qcd_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD500_origins[ j5.4_QCD500_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-1000-1500", qcd_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1000_origins[ j5.4_QCD1000_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-1500-2000", qcd_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD1500_origins[ j5.4_QCD1500_origins$jet_origin >20, ]$wjets_bin)),
 data.frame( dtag= "MC2016_noHLT_QCD_HT-2000-Inf", qcd_q=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin <20, ]$qcd_bin), qcd_g=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin >20, ]$qcd_bin), wjets_q=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin <20, ]$wjets_bin), wjets_g=sum( j5.4_QCD2000_origins[ j5.4_QCD2000_origins$jet_origin >20, ]$wjets_bin)))
j5.4_jetorigin_sums
q()
ls()
j5.4_weightflow
merge(j5.4_weightflow, j5.4_jetorigin_sums)
j5.4_weightflow <- merge(j5.4_weightflow, j5.4_jetorigin_sums)
j5.4_weightflow 
j5.4_weightflow[c("qcd_q", "qcd_g", "wjets_q", "wjets_q")] * j5.4_weightflow$mc_ratio
j5.4_weightflow[c("qcd_q", "qcd_g", "wjets_q", "wjets_g")] * j5.4_weightflow$mc_ratio
j5.4_weightflow$qcd_jets = j5.4_weightflow$qcd_q + j5.4_weightflow$qcd_g
j5.4_weightflow$wjets_jets = j5.4_weightflow$wjets_q + j5.4_weightflow$wjets_g
j5.4_weightflow 
j5.4_weightflow[c("qcd_q", "qcd_g", "wjets_q", "wjets_g")] * j5.4_weightflow$mc_ratio
j5.4_weightflow$qcd_q * j5.4_weightflow$mc_ratio / (j5.4_weightflow$qcd_jets * j5.4_weightflow$mc_ratio)
sumsum(j5.4_weightflow$qcd_q * j5.4_weightflow$mc_ratio) / sum(j5.4_weightflow$qcd_jets * j5.4_weightflow$mc_ratio)
sum(j5.4_weightflow$qcd_q * j5.4_weightflow$mc_ratio) / sum(j5.4_weightflow$qcd_jets * j5.4_weightflow$mc_ratio)
sum(j5.4_weightflow$qcd_g * j5.4_weightflow$mc_ratio) / sum(j5.4_weightflow$qcd_jets * j5.4_weightflow$mc_ratio)
sum(j5.4_weightflow$wjets_q * j5.4_weightflow$mc_ratio) / sum(j5.4_weightflow$wjets_jets * j5.4_weightflow$mc_ratio)
q()
j5.6_Data13TeV_JetHT_SingleMuon <- read.csv( "j5.6_Data13TeV_JetHT_SingleMuon.csv", head=T)
head( j5.6_Data13TeV_JetHT_SingleMuon)
q()
j5.6_Data13TeV_JetHT_SingleMuon <- read.csv( "j5.6_Data13TeV_JetHT_SingleMuon.csv", head=T)
head( j5.6_Data13TeV_JetHT_SingleMuon)
tail( j5.6_Data13TeV_JetHT_SingleMuon)
ddply( j5.6_Data13TeV_JetHT_SingleMuon[c("z", "hj_w_jets_bin", "hj_w_tau_jets_bin", "hj_q_jets_bin", "hj_q_tau_jets_bin", "hjm_w_jets_bin", "hjm_w_tau_jets_bin", "hjm_q_jets_bin", "hjm_q_tau_jets_bin")] , .(z), function(df) {colSums(df)} )
ddply( j5.6_Data13TeV_JetHT_SingleMuon[c("z", "hj_w_jets_bin", "hj_w_tau_jets_bin", "hj_q_jets_bin", "hj_q_tau_jets_bin", "hjm_w_jets_bin", "hjm_w_tau_jets_bin", "hjm_q_jets_bin", "hjm_q_tau_jets_bin")] , .(z), function(df) {colSums(df)} )
q()
j5.6_Data13TeV_JetHT <- read.csv( "j5.6_Data13TeV_JetHT2016D_PromptReco_v2.csv", head=T)
j5.6_Data13TeV_SingleMuon <- read.csv( "j5.6_Data13TeV_SingleMuon2016D_PromptRecoV2.csv", head=T)
ddply( j5.6_Data13TeV_JetHT_SingleMuon[c("z", "hj_w_jets_bin", "hj_w_tau_jets_bin", "hj_q_jets_bin", "hj_q_tau_jets_bin", "hjm_w_jets_bin", "hjm_w_tau_jets_bin", "hjm_q_jets_bin", "hjm_q_tau_jets_bin")] , .(z), function(df) {colSums(df)} )
ddply( j5.6_Data13TeV_JetHT[c("z", "hj_w_jets_bin", "hj_w_tau_jets_bin", "hj_q_jets_bin", "hj_q_tau_jets_bin", "hjm_w_jets_bin", "hjm_w_tau_jets_bin", "hjm_q_jets_bin", "hjm_q_tau_jets_bin")] , .(z), function(df) {colSums(df)} )
ddply( j5.6_Data13TeV_SingleMuon[c("z", "hj_w_jets_bin", "hj_w_tau_jets_bin", "hj_q_jets_bin", "hj_q_tau_jets_bin", "hjm_w_jets_bin", "hjm_w_tau_jets_bin", "hjm_q_jets_bin", "hjm_q_tau_jets_bin")] , .(z), function(df) {colSums(df)} )
q()
